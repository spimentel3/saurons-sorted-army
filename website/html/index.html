<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="../css/w3.css">
    <script src="../js/jquery-3.1.0.min.js"></script>

    <script>
        $(document).ready(function () {
            getData(1);

            function update()
            {
                setTimeout(function() {
                    getData(2);
                    update();
                }, 100)
            }

            update();
        });
    </script>
    <script>
        function getData(newOrOld){
            var xhttp = new XMLHttpRequest();
            if (newOrOld == 1)
            {
                xhttp.open("GET", "../php/get_log.php");
                xhttp.send();
                xhttp.onreadystatechange = function() {
                    //xhttp.open("GET", "../../logs/python_templog.log", true);
                    if (xhttp.readyState == 4 && xhttp.status == 200) {
                        document.getElementById("console").innerHTML = xhttp.responseText;
                        var div = document.getElementById("console");
                        div.scrollTop = div.scrollHeight;
                    }
                };
            }
            else
            {
                var lastLog = document.getElementById('console').innerHTML.split(/\r?\n/);
                lastLog = lastLog[lastLog.length - 2];
                $.post("../php/update_log.php", {postlastLog:lastLog},
                function (lastLog) {
                    $('#console').append(lastLog);
                    var div = document.getElementById("console");
                    div.scrollTop = div.scrollHeight;
                });
                /*
                xhttp.open("GET", "../php/update_log.php");
                xhttp.send();
                xhttp.onreadystatechange = function() {
                    //xhttp.open("GET", "../../logs/python_templog.log", true);
                    if (xhttp.readyState == 4 && xhttp.status == 200) {
                        var lastLog = document.getElementById('console').innerHTML.split(/\r?\n/);
                        alert(lastLog[lastLog.length - 2]);
                        document.getElementById("console").innerHTML = xhttp.responseText;
                        var div = document.getElementById("console");
                        div.scrollTop = div.scrollHeight;
                    }
                };
                */
            }
        }
    </script>
    <script>
        /*
         function openCity(evt, cityName) {
         var i, x, tablinks;
         x = document.getElementsByClassName("city");
         for (i = 0; i < x.length; i++) {
         x[i].style.display = "none";
         }
         tablinks = document.getElementsByClassName("tablink");
         for (i = 0; i < x.length; i++) {
         tablinks[i].className = tablinks[i].className.replace(" w3-red", "");
         }
         document.getElementById(cityName).style.display = "block";
         evt.currentTarget.className += " w3-red";
         }
         */
    </script>
</head>
<body>

<div class="w3-xxlarge w3-center" style="background-color: #C1CDD3">
    Sauron's Sorted Army
</div>

<div class="w3-container">
    <div class="w3-quarter w3-center w3-display-container" id="settings" style="height: 88vh; width: 20%">
        <div class="w3-display-topmiddle w3-blue-grey">
            <h1>Filter Settings</h1>
        </div>
        <div class="w3-padding-8 w3-padding-left w3-padding-right w3-display-bottommiddle" id="values" style="">
            <input class="w3-input w3-border" type="text">

            <input class="w3-check" type="checkbox" checked="checked">
            <label class="w3-validate">Placeholder 1</label>

            <input class="w3-check" type="checkbox">
            <label class="w3-validate">Placeholder 2</label>
            <br>
            <br>
            <select class="w3-select" name="option">
                <option value="" disabled selected>Choose your option</option>
                <option value="1">Option 1</option>
                <option value="2">Option 2</option>
                <option value="3">Option 3</option>
            </select>
            <br>
            <br>
            <button class="w3-btn w3-large">Submit</button>
        </div>
    </div>
    <div class="w3-container">
        <ul class="w3-navbar w3-white">
            <li><a href="#" class="tablink">Log 1</a></li>
            <li><a href="#" class="tablink">Log 2</a></li>
            <li><a href="#" class="tablink">Log 3</a></li>
        </ul>
        <div class="w3-black w3-rest w3-margin-bottom" id="console" style="height: 88vh; overflow-y: auto; white-space: pre">

        </div>
    </div>
</div>
</body>
</html>

<!--
Save this as example for later
<ul class="w3-navbar w3-black">
    <li><a href="#" class="tablink" onclick="openCity(event, 'London');">London</a></li>
    <li><a href="#" class="tablink" onclick="openCity(event, 'Paris');">Paris</a></li>
    <li><a href="#" class="tablink" onclick="openCity(event, 'Tokyo');">Tokyo</a></li>
</ul>
-->